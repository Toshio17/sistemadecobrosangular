{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTableModule } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/table\";\nconst _c0 = () => [];\nconst _c1 = () => [\"id\", \"cliente_id\", \"fecha_pago\", \"monto_pagado\"];\nfunction DashboardComponent_th_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \"ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_td_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const it_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(it_r1.id);\n  }\n}\nfunction DashboardComponent_th_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \"Cliente\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_td_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const it_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(it_r2.cliente_id);\n  }\n}\nfunction DashboardComponent_th_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \"Fecha\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_td_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const it_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(it_r3.fecha_pago);\n  }\n}\nfunction DashboardComponent_th_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \"Monto\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_td_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const it_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, it_r4.monto_pagado, \"PEN\"));\n  }\n}\nfunction DashboardComponent_tr_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 28);\n  }\n}\nfunction DashboardComponent_tr_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 29);\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(http, router) {\n      this.http = http;\n      this.router = router;\n    }\n    ngOnInit() {\n      this.http.get('/payments/metrics').subscribe(r => this.metrics = r);\n    }\n    go(path, query) {\n      this.router.navigate([path], {\n        queryParams: query || {}\n      });\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || DashboardComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 85,\n        vars: 13,\n        consts: [[2, \"padding\", \"24px\"], [2, \"display\", \"flex\", \"gap\", \"16px\", \"align-items\", \"flex-start\", \"flex-wrap\", \"wrap\"], [2, \"flex\", \"1 1 480px\"], [2, \"display\", \"flex\", \"align-items\", \"center\", \"justify-content\", \"space-between\"], [2, \"display\", \"flex\", \"gap\", \"24px\", \"align-items\", \"flex-start\", \"flex-wrap\", \"wrap\"], [2, \"flex\", \"1 1 320px\"], [2, \"display\", \"flex\", \"align-items\", \"center\", \"gap\", \"8px\", \"margin\", \"6px 0\"], [\"color\", \"primary\"], [2, \"text-decoration\", \"none\", \"cursor\", \"pointer\", 3, \"click\"], [2, \"flex\", \"1 1 320px\", \"display\", \"flex\", \"gap\", \"8px\", \"flex-direction\", \"column\"], [2, \"display\", \"flex\", \"gap\", \"8px\", \"flex-wrap\", \"wrap\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-stroked-button\", \"\", \"color\", \"accent\", 3, \"click\"], [\"mat-stroked-button\", \"\", 3, \"click\"], [2, \"display\", \"grid\", \"grid-template-columns\", \"repeat(4,1fr)\", \"gap\", \"12px\", \"margin-top\", \"16px\"], [2, \"margin\", \"8px 0\"], [2, \"margin-top\", \"16px\", \"display\", \"grid\", \"grid-template-columns\", \"1fr\", \"gap\", \"12px\"], [\"mat-table\", \"\", 2, \"width\", \"100%\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"cliente_id\"], [\"matColumnDef\", \"fecha_pago\"], [\"matColumnDef\", \"monto_pagado\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"mat-card\", 2)(3, \"mat-card-title\", 3)(4, \"span\");\n            i0.ɵɵtext(5, \"Estado del sistema\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"mat-card-content\")(7, \"div\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"mat-icon\", 7);\n            i0.ɵɵtext(11, \"check_circle\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"a\", 8);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_a_click_12_listener() {\n              return ctx.go(\"/clientes\");\n            });\n            i0.ɵɵtext(13, \"Clientes\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(14, \"div\", 6)(15, \"mat-icon\", 7);\n            i0.ɵɵtext(16, \"check_circle\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"a\", 8);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_a_click_17_listener() {\n              return ctx.go(\"/mensualidades\");\n            });\n            i0.ɵɵtext(18, \"Facturaci\\u00F3n\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"div\", 6)(20, \"mat-icon\", 7);\n            i0.ɵɵtext(21, \"check_circle\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"a\", 8);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_a_click_22_listener() {\n              return ctx.go(\"/mensualidades\");\n            });\n            i0.ɵɵtext(23, \"Pagos\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(24, \"div\", 9)(25, \"div\", 10)(26, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_26_listener() {\n              return ctx.go(\"/clientes\", {\n                new: \"1\"\n              });\n            });\n            i0.ɵɵelementStart(27, \"mat-icon\");\n            i0.ɵɵtext(28, \"person_add\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(29, \"\\u00A0Nuevo cliente\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"button\", 12);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_30_listener() {\n              return ctx.go(\"/mensualidades\", {\n                new: \"1\"\n              });\n            });\n            i0.ɵɵelementStart(31, \"mat-icon\");\n            i0.ɵɵtext(32, \"payments\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(33, \"\\u00A0Registrar pago\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(34, \"div\")(35, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_35_listener() {\n              return ctx.go(\"/planes\");\n            });\n            i0.ɵɵelementStart(36, \"mat-icon\");\n            i0.ɵɵtext(37, \"category\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(38, \"\\u00A0Planes\");\n            i0.ɵɵelementEnd()()()()()()();\n            i0.ɵɵelementStart(39, \"div\", 14)(40, \"mat-card\")(41, \"mat-card-title\");\n            i0.ɵɵtext(42, \"Deudas pendientes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"mat-card-content\")(44, \"h3\", 15);\n            i0.ɵɵtext(45);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(46, \"mat-card\")(47, \"mat-card-title\");\n            i0.ɵɵtext(48, \"Pagos del mes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"mat-card-content\")(50, \"h3\", 15);\n            i0.ɵɵtext(51);\n            i0.ɵɵpipe(52, \"currency\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(53, \"mat-card\")(54, \"mat-card-title\");\n            i0.ɵɵtext(55, \"Pagos recientes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"mat-card-content\")(57, \"h3\", 15);\n            i0.ɵɵtext(58);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(59, \"mat-card\")(60, \"mat-card-title\");\n            i0.ɵɵtext(61, \"Morosos 30/60/90\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(62, \"mat-card-content\")(63, \"h3\", 15);\n            i0.ɵɵtext(64);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(65, \"div\", 16)(66, \"mat-card\")(67, \"mat-card-title\");\n            i0.ɵɵtext(68, \"Pagos recientes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(69, \"mat-card-content\")(70, \"table\", 17);\n            i0.ɵɵelementContainerStart(71, 18);\n            i0.ɵɵtemplate(72, DashboardComponent_th_72_Template, 2, 0, \"th\", 19)(73, DashboardComponent_td_73_Template, 2, 1, \"td\", 20);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(74, 21);\n            i0.ɵɵtemplate(75, DashboardComponent_th_75_Template, 2, 0, \"th\", 19)(76, DashboardComponent_td_76_Template, 2, 1, \"td\", 20);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(77, 22);\n            i0.ɵɵtemplate(78, DashboardComponent_th_78_Template, 2, 0, \"th\", 19)(79, DashboardComponent_td_79_Template, 2, 1, \"td\", 20);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(80, 23);\n            i0.ɵɵtemplate(81, DashboardComponent_th_81_Template, 2, 0, \"th\", 19)(82, DashboardComponent_td_82_Template, 3, 4, \"td\", 20);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵtemplate(83, DashboardComponent_tr_83_Template, 1, 0, \"tr\", 24)(84, DashboardComponent_tr_84_Template, 1, 0, \"tr\", 25);\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(45);\n            i0.ɵɵtextInterpolate((ctx.metrics == null ? null : ctx.metrics.deudas_vencidas) || 0);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(52, 7, (ctx.metrics == null ? null : ctx.metrics.total_mes) || 0, \"PEN\"));\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate((ctx.metrics == null ? null : ctx.metrics.pagos_recientes == null ? null : ctx.metrics.pagos_recientes.length) || 0);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(ctx.metrics == null ? null : ctx.metrics.morosos == null ? null : ctx.metrics.morosos.join(\" / \"));\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"dataSource\", (ctx.metrics == null ? null : ctx.metrics.pagos_recientes) || i0.ɵɵpureFunction0(10, _c0));\n            i0.ɵɵadvance(13);\n            i0.ɵɵproperty(\"matHeaderRowDef\", i0.ɵɵpureFunction0(11, _c1));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"matRowDefColumns\", i0.ɵɵpureFunction0(12, _c1));\n          }\n        },\n        dependencies: [CommonModule, i3.CurrencyPipe, MatCardModule, i4.MatCard, i4.MatCardContent, i4.MatCardTitle, MatButtonModule, i5.MatButton, MatIconModule, i6.MatIcon, MatTableModule, i7.MatTable, i7.MatHeaderCellDef, i7.MatHeaderRowDef, i7.MatColumnDef, i7.MatCellDef, i7.MatRowDef, i7.MatHeaderCell, i7.MatCell, i7.MatHeaderRow, i7.MatRow],\n        encapsulation: 2\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}